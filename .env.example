# RabbitMQ Configuration
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# vLLM Configuration
VLLM_BASE_URL=http://localhost:8000/v1
VLLM_API_KEY=token
# Non-gated models (work immediately):
VLLM_MODEL_NAME=Qwen/Qwen2.5-7B-Instruct
# Alternatives: mistralai/Mistral-7B-Instruct-v0.3, microsoft/Phi-3-mini-4k-instruct
# Gated models (require HuggingFace access): meta-llama/Meta-Llama-3.1-8B-Instruct
VLLM_MAX_TOKENS=2048
VLLM_TEMPERATURE=0.1

# vLLM Rate Limiting & Backoff (Protect your local 5090!)
# Max concurrent requests to vLLM (2 = only 2 requests in-flight at once)
VLLM_MAX_CONCURRENT=2
# Max requests per minute (20 = ~3 second average gap between requests)
VLLM_REQUESTS_PER_MINUTE=20
# Retry settings with exponential backoff
VLLM_MAX_RETRIES=5
VLLM_BASE_BACKOFF=1.0
VLLM_MAX_BACKOFF=60.0
# Circuit Breaker (prevents cascading failures when server is overloaded)
VLLM_CIRCUIT_BREAKER_THRESHOLD=5
VLLM_CIRCUIT_BREAKER_TIMEOUT=60

# Queue Configuration
DISCOVERY_QUEUE_NAME=discovery_queue
EXTRACTION_QUEUE_NAME=extraction_queue
REPAIR_QUEUE_NAME=repair_queue
QUEUE_MAX_PRIORITY=10

# Worker Configuration
DISCOVERY_WORKERS=2
EXTRACTION_WORKERS=4
REPAIR_WORKERS=1
# Reduced to avoid flooding vLLM server (was 10)
CONCURRENT_CONSUMERS_PER_WORKER=3
# Reduced to avoid queuing too many messages (was 3)
PREFETCH_COUNT=1

# Scraping Configuration
REQUEST_DELAY_MIN=2.0
REQUEST_DELAY_MAX=5.0
REQUEST_TIMEOUT=30
USER_AGENT=Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36
MAX_RETRIES=3
MAX_PAGES=10000

# Data Storage
DATA_DIR=data/extracted
LOGS_DIR=logs

# Transfermarkt Seeds
SEED_URLS=https://www.transfermarkt.com/premier-league/startseite/wettbewerb/GB1,https://www.transfermarkt.com/laliga/startseite/wettbewerb/ES1,https://www.transfermarkt.com/bundesliga/startseite/wettbewerb/L1,https://www.transfermarkt.com/serie-a/startseite/wettbewerb/IT1,https://www.transfermarkt.com/ligue-1/startseite/wettbewerb/FR1
